(function(d){function z(g,u){function b(a,b){i&&i[a]&&i[a].fireWith(g,b);h.trigger(r+":"+a,b)}function m(){var a;q=setTimeout(function(){s(m)},1E3/c.fps);if(e)n[o]+=c.speed/c.fps,0<c.bgSize&&Math.abs(n[o])>c.bgSize&&(n[o]%=c.bgSize),a=n;else{switch(l){case "toStart":0>=--f&&(l=f=0,j.pause(),b("start"));break;case "toEnd":++f>=k.length-1&&(l=0,f=k.length-1,j.pause(),b("end"));break;case "to":f<t?f++:f>t&&f--;f===t&&(b("to",[g]),j.pause());break;default:++f>=k.length&&(f=0)}a=f}p(a)}function p(a){var x=
!e&&!isNaN(parseFloat(a))&&isFinite(a)?k[a]:"object"===typeof a?a.x+"px "+a.y+"px":!1;x&&(g.style.backgroundPosition=x,e||(f=a),b("frame",e?[a[o],c.bgSize]:[a,k.length]))}var h,c,e,q,y,k,f,v,n,o,l,t,j=this,i=!d.Callbacks?!1:{};this.pause=function(){q&&(q=clearTimeout(q),b("pause"))};this.play=function(){q||(m(),b("play"))};this.toggle=function(){b("toggle");j[q?"pause":"play"]()};this.set=function(a,b){-1!==d.inArray(a,["speed","fps"])&&(c[a]=b)};this.toStart=function(a){e||(a||0===f?(l=!1,b("start"),
j.pause(),p(0)):(l="toStart",j.play()))};this.toEnd=function(a){e||(a||f===k.length-1?(l=0,b("end"),j.pause(),p(k.length-1)):(l="toEnd",j.play()))};this.to=function(a,c){if(!e&&!(isNaN(parseFloat(a))||!isFinite(a)||0>a&&a>=k.length))c||a===f?(l=0,b("to",[a]),j.pause(),p(a)):(l="to",t=a,j.play())};this.on=function(a,b){i&&b&&(i[a]||(i[a]=d.Callbacks("unique")),i[a].add(b))};this.off=function(a,b){i&&i[a]&&(b?i[a].remove(b):i[a].empty())};this.destroy=function(){j.pause();h.css("backgroundPosition",
v);d.removeData(g,w)};(function(){h=d(g);c=d.extend({},d.fn[r].defaults,u);e=!c.frames;q=0;y=h[c.vertical?"innerHeight":"innerWidth"]();o=c.vertical?"y":"x";v=h.css("backgroundPosition")||h.css("backgroundPositionX")+" "+h.css("backgroundPositionY");var a=v.replace(/left|top/g,0).split(" ");n={x:parseInt(a[0],10),y:parseInt(a[1],10)};if(!e){a=n;k=[];for(var b=0;b<c.frames;b++)a[o]=b*-y,k.push(a.x+"px "+a.y+"px");f=-1}c.paused||m()})()}var r="motio",w="plugin_"+r,s;d.fn[r]=function(g,u){var b=!1,m=
[],p;g&&!d.isPlainObject(g)&&(b=!1===g?"destroy":g,p=arguments,Array.prototype.shift.call(p));this.each(function(h,c){var e=d.data(c,w);e&&b?e[b]&&e[b].apply(e,p):!e&&!b&&(e=d.data(c,w,new z(c,g)));m.push(e)});return u&&!b?1<m.length?m:m[0]:this};d.fn[r].defaults={fps:15,vertical:0,paused:0,frames:0,speed:50,bgSize:0};(function(){for(var g=0,d=["ms","moz","webkit","o"],b=0;b<d.length&&!s;++b)s=window[d[b]+"RequestAnimationFrame"];s||(s=function(b){var d=(new Date).getTime(),h=Math.max(0,16-(d-g));
g=d+h;return setTimeout(function(){b(d+h)},h)})})()})(jQuery);
